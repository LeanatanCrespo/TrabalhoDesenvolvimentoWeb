<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Usu치rio</title>
    <link rel="stylesheet" href="CSS/tcadastro.css">
</head>
<body>

<div class="a">
    <h2>Cadastro de Usu치rio</h2>

    
    <div id="message" class="error-message"></div>

    
    <div class="loginusuario">
        <label for="login">Login:</label>
        <input type="text" id="login" placeholder="Digite seu login" required>
    </div>

    <div class="loginusuario">
        <label for="password">Senha:</label>
        <input type="password" id="password" placeholder="Digite sua senha" required>
    </div>

    <div class="botoes">
        <button class="salvar" onclick="createUser()">Salvar</button>
        <button class="voltar" onclick="goBack()">Voltar</button>
    </div>
</div>

<script>
    
    function goBack() {
        window.history.back();
    }

    
    function getUsers() {
        const users = localStorage.getItem('users');
        return users ? JSON.parse(users) : [];
    }

    
    function saveUser(user) {
        const users = getUsers();
        users.push(user);
        localStorage.setItem('users', JSON.stringify(users));
    }

    
    function createUser() {
        const login = document.getElementById('login').value.trim();
        const password = document.getElementById('password').value.trim();
        const messageDiv = document.getElementById('message');

        if (!login || !password) {
            messageDiv.textContent = 'Por favor, preencha todos os campos.';
            messageDiv.className = 'error-message';
            return;
        }

        const users = getUsers();

        
        const userExists = users.some(user => user.login === login);

        if (userExists) {
            messageDiv.textContent = 'Login j치 existe. Escolha outro login.';
            messageDiv.className = 'error-message';
        } else {
            
            saveUser({ login, password });
            messageDiv.textContent = 'Usu치rio cadastrado com sucesso!';
            messageDiv.className = 'success-message';

            
            document.getElementById('login').value = '';
            document.getElementById('password').value = '';
        }
    }
</script>

</body>
</html>
